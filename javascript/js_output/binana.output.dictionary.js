'use strict';var binana={};var re={};import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,
__ior__,__ipow__,__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__proxy__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,abs,all,any,assert,bool,bytearray,bytes,callable,chr,copy,deepcopy,delattr,dict,dir,divmod,enumerate,
filter,float,getattr,hasattr,input,int,isinstance,issubclass,len,list,map,max,min,object,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";import{OpenFile}from"./binana._utils.shim.js";import{dirname}from"./binana._utils.shim.js";import{basename}from"./binana._utils.shim.js";import{sep}from"./binana._utils.shim.js";import*as json from"./binana._utils.shim.js";import*as __module_binana__ from"./binana.js";
__nest__(binana,"",__module_binana__);import*as __module_re__ from"./re.js";__nest__(re,"",__module_re__);var __name__="binana.output.dictionary";export var _openFile=OpenFile;export var _atom_details_to_dict=function(details){return dict({"chain":details[0].strip(),"resID":int(details[2]),"resName":details[1],"atomName":details[3],"atomIndex":int(details[4])})};export var _get_close_atom_list=function(interaction_labels){var i=0;var interaction_list=[];for(var atom_pairs of interaction_labels){interaction_list.append(dict({}));
var ligand_atom_details=re.py_split("[():]",atom_pairs[0]);var receptor_atom_details=re.py_split("[():]",atom_pairs[1]);for(var detail of ligand_atom_details)if(detail=="")ligand_atom_details.remove(detail);for(var detail of receptor_atom_details)if(detail=="")receptor_atom_details.remove(detail);interaction_list[i]=dict({"ligandAtoms":[_atom_details_to_dict(ligand_atom_details)],"receptorAtoms":[_atom_details_to_dict(receptor_atom_details)]});i++}return interaction_list};export var _collect_hydrogen_bonds=
function(hydrogen_bonds,json_output){var i=0;for(var atom_pairs of hydrogen_bonds){json_output["hydrogenBonds"].append(dict({}));var ligand_and_receptor=[re.py_split("[():]",atom_pairs[0]),re.py_split("[():]",atom_pairs[1]),re.py_split("[():]",atom_pairs[2])];var ligand_atom_details=[ligand_and_receptor[0]];var receptor_atom_details=[ligand_and_receptor[2]];if(atom_pairs[3]=="RECEPTOR")receptor_atom_details.append(ligand_and_receptor[1]);else ligand_atom_details.append(ligand_and_receptor[1]);for(var atom of ligand_atom_details)for(var detail of atom)if(detail==
"")atom.remove(detail);for(var atom of receptor_atom_details)for(var detail of atom)if(detail=="")atom.remove(detail);json_output["hydrogenBonds"][i]=dict({"ligandAtoms":[],"receptorAtoms":[]});for(var detail of ligand_atom_details)json_output["hydrogenBonds"][i]["ligandAtoms"].append(_atom_details_to_dict(detail));for(var detail of receptor_atom_details)json_output["hydrogenBonds"][i]["receptorAtoms"].append(_atom_details_to_dict(detail));i++}};export var _collect_pi_pi=function(pi_stacking_interactions,
json_output){var i=0;for(var atom_pair of pi_stacking_interactions){json_output["piPiStackingInteractions"].append(dict({}));var individual_ligand_atoms=atom_pair[0].py_split("/");var individual_receptor_atoms=atom_pair[1].py_split("/");var individual_ligand_atoms_details=[];for(var atom of individual_ligand_atoms)if(atom!="")individual_ligand_atoms_details.append(re.py_split("[\\[\\]():]",atom));var individual_receptor_atoms_details=[];for(var atom of individual_receptor_atoms)if(atom!="")individual_receptor_atoms_details.append(re.py_split("[\\[\\]():]",
atom));for(var detail_list of individual_ligand_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);for(var detail_list of individual_receptor_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);json_output["piPiStackingInteractions"][i]=dict({"ligandAtoms":[],"receptorAtoms":[]});for(var detail of individual_ligand_atoms_details)json_output["piPiStackingInteractions"][i]["ligandAtoms"].append(_atom_details_to_dict(detail));for(var detail of individual_receptor_atoms_details)json_output["piPiStackingInteractions"][i]["receptorAtoms"].append(_atom_details_to_dict(detail));
i++}};export var _collect_t_stacking=function(t_stacking_interactions,json_output){var i=0;for(var atom_pair of t_stacking_interactions){json_output["tStackingInteractions"].append(dict({}));var individual_ligand_atoms=atom_pair[0].py_split("/");var individual_receptor_atoms=atom_pair[1].py_split("/");var individual_ligand_atoms_details=[];for(var atom of individual_ligand_atoms)if(atom!="")individual_ligand_atoms_details.append(re.py_split("[\\[\\]():]",atom));var individual_receptor_atoms_details=
[];for(var atom of individual_receptor_atoms)if(atom!="")individual_receptor_atoms_details.append(re.py_split("[\\[\\]():]",atom));for(var detail_list of individual_ligand_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);for(var detail_list of individual_receptor_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);json_output["tStackingInteractions"][i]=dict({"ligandAtoms":[],"receptorAtoms":[]});for(var detail of individual_ligand_atoms_details)json_output["tStackingInteractions"][i]["ligandAtoms"].append(_atom_details_to_dict(detail));
for(var detail of individual_receptor_atoms_details)json_output["tStackingInteractions"][i]["receptorAtoms"].append(_atom_details_to_dict(detail));i++}};export var _collect_cat_pi=function(cat_pi_interactions,json_output){var i=0;for(var atom_pair of cat_pi_interactions){json_output["cationPiInteractions"].append(dict({}));var individual_ligand_atoms=atom_pair[0].py_split("/");var individual_receptor_atoms=atom_pair[1].py_split("/");var individual_ligand_atoms_details=[];for(var atom of individual_ligand_atoms)if(atom!=
"")individual_ligand_atoms_details.append(re.py_split("[\\[\\]():]",atom));var individual_receptor_atoms_details=[];for(var atom of individual_receptor_atoms)if(atom!="")individual_receptor_atoms_details.append(re.py_split("[\\[\\]():]",atom));for(var detail_list of individual_ligand_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);for(var detail_list of individual_receptor_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);json_output["cationPiInteractions"][i]=
dict({"ligandAtoms":[],"receptorAtoms":[]});for(var detail of individual_ligand_atoms_details)json_output["cationPiInteractions"][i]["ligandAtoms"].append(_atom_details_to_dict(detail));for(var detail of individual_receptor_atoms_details)json_output["cationPiInteractions"][i]["receptorAtoms"].append(_atom_details_to_dict(detail));i++}};export var _collect_salt_bridge=function(salt_bridge_interactions,json_output){var i=0;for(var atom_pair of salt_bridge_interactions){json_output["saltBridges"].append(dict({}));
var individual_ligand_atoms=atom_pair[0].py_split("/");var individual_receptor_atoms=atom_pair[1].py_split("/");var individual_ligand_atoms_details=[];for(var atom of individual_ligand_atoms)if(atom!="")individual_ligand_atoms_details.append(re.py_split("[\\[\\]():]",atom));var individual_receptor_atoms_details=[];for(var atom of individual_receptor_atoms)if(atom!="")individual_receptor_atoms_details.append(re.py_split("[\\[\\]():]",atom));for(var detail_list of individual_ligand_atoms_details)for(var detail of detail_list)if(detail==
"")detail_list.remove(detail);for(var detail_list of individual_receptor_atoms_details)for(var detail of detail_list)if(detail=="")detail_list.remove(detail);json_output["saltBridges"][i]=dict({"ligandAtoms":[],"receptorAtoms":[]});for(var detail of individual_ligand_atoms_details)json_output["saltBridges"][i]["ligandAtoms"].append(_atom_details_to_dict(detail));for(var detail of individual_receptor_atoms_details)json_output["saltBridges"][i]["receptorAtoms"].append(_atom_details_to_dict(detail));
i++}};export var collect=function(ligand_filename,receptor_filename,closest_labels,close_labels,hydrophobics_labels,hydrogen_bonds_labels,salt_bridge_labels,pi_pi_labels,pi_cat_labels){if(typeof closest_labels=="undefined"||closest_labels!=null&&closest_labels.hasOwnProperty("__kwargtrans__"))var closest_labels=null;if(typeof close_labels=="undefined"||close_labels!=null&&close_labels.hasOwnProperty("__kwargtrans__"))var close_labels=null;if(typeof hydrophobics_labels=="undefined"||hydrophobics_labels!=
null&&hydrophobics_labels.hasOwnProperty("__kwargtrans__"))var hydrophobics_labels=null;if(typeof hydrogen_bonds_labels=="undefined"||hydrogen_bonds_labels!=null&&hydrogen_bonds_labels.hasOwnProperty("__kwargtrans__"))var hydrogen_bonds_labels=null;if(typeof salt_bridge_labels=="undefined"||salt_bridge_labels!=null&&salt_bridge_labels.hasOwnProperty("__kwargtrans__"))var salt_bridge_labels=null;if(typeof pi_pi_labels=="undefined"||pi_pi_labels!=null&&pi_pi_labels.hasOwnProperty("__kwargtrans__"))var pi_pi_labels=
null;if(typeof pi_cat_labels=="undefined"||pi_cat_labels!=null&&pi_cat_labels.hasOwnProperty("__kwargtrans__"))var pi_cat_labels=null;var json_output=dict({});json_output["hydrogenBonds"]=[];json_output["piPiStackingInteractions"]=[];json_output["tStackingInteractions"]=[];json_output["cationPiInteractions"]=[];json_output["saltBridges"]=[];if(closest_labels!==null)json_output["contactsWithin2.5A"]=_get_close_atom_list(closest_labels);if(close_labels!==null)json_output["contactsWithin4.0A"]=_get_close_atom_list(close_labels);
if(hydrophobics_labels!==null)json_output["hydrophobicContacts"]=_get_close_atom_list(hydrophobics_labels);if(hydrogen_bonds_labels!==null)_collect_hydrogen_bonds(hydrogen_bonds_labels,json_output);if(pi_pi_labels!==null){_collect_pi_pi(pi_pi_labels["pi_stacking"],json_output);_collect_t_stacking(pi_pi_labels["T_stacking"],json_output)}if(pi_cat_labels!==null)_collect_cat_pi(pi_cat_labels,json_output);if(salt_bridge_labels!==null)_collect_salt_bridge(salt_bridge_labels,json_output);var dname=dirname(ligand_filename)!=
""?dirname(ligand_filename):".";var bname_ligand_filename=basename(ligand_filename);var bname_receptor_filename=basename(receptor_filename);var bname_ligand_filename_no_ext=".".join(bname_ligand_filename.py_split(".").__getslice__(0,-1,1));var bname_receptor_filename_no_ext=".".join(bname_receptor_filename.py_split(".").__getslice__(0,-1,1));var output_file_name=dname+sep+(bname_ligand_filename_no_ext+"_"+bname_receptor_filename_no_ext+"_output.json");var jfile=_openFile(output_file_name,"w");json.dump(json_output,
jfile);jfile.close();return json_output};

//# sourceMappingURL=binana.output.dictionary.map